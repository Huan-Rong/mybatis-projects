<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="site.bulibucai.dao.EmployeeMapper">

  <resultMap id="empAndDept" type="site.bulibucai.bean.Employee">
    <id column="id" property="id"></id>
    <result column="lastName" property="lastName"></result>
    <result column="gender" property="gender"></result>
    <result column="email" property="email"></result>
    <result column="deptId" property="dept.id"></result>
    <result column="deptName" property="dept.deptName"></result>
  </resultMap>

  <select id="getEmpByIdReturnEmpAndDept" resultMap="empAndDept">
    select e.id id, e.last_name lastName, e.gender gender, e.email email,
      d.id deptId, d.dept_name deptName
    from employee e left join department d on e.dept_id = d.id
    where e.id=#{id}
  </select>

  <resultMap id="empAndDept2" type="site.bulibucai.bean.Employee">
    <id column="id" property="id"></id>
    <result column="lastName" property="lastName"></result>
    <result column="gender" property="gender"></result>
    <result column="email" property="email"></result>
    <association property="dept" javaType="site.bulibucai.bean.Department">
      <id column="deptId" property="id"></id>
      <result column="deptName" property="deptName"></result>
    </association>
  </resultMap>

  <select id="getEmpByIdReturnEmpAndDept2" resultMap="empAndDept2">
    select e.id id, e.last_name lastName, e.gender gender, e.email email,
      d.id deptId, d.dept_name deptName
    from employee e left join department d on e.dept_id = d.id
    where e.id=#{id}
  </select>

</mapper>